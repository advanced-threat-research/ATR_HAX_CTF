FROM bitbull/webserver-dev:php5.6

ADD docker-entrypoint.sh /
RUN chmod +x /docker-entrypoint.sh
ADD index.html .
ADD save_shellcode.php .
ADD check_credentials.php .
ADD shellcode_handler .
ADD shellcode_tester .

# Reboot automatically every 5 minutes
ADD crontab /etc/crontab
RUN chmod 600 /etc/crontab
RUN apt update && apt install -y rsyslog
RUN touch /var/log/syslog && chown syslog:adm /var/log/syslog
#
EXPOSE 80
ENTRYPOINT ["/docker-entrypoint.sh"]
